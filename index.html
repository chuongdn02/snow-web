<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Âú£ËØûüéÑÂø´‰πê</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
            background-color: black;
        }

        #main {
            position: relative;
            width: 100%;
            height: 100%;
        }

        #video1 {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        #message {
            position: absolute;
            top: 5%; /* ƒê·∫∑t ch·ªØ ·ªü g·∫ßn ph√≠a tr√™n m√†n h√¨nh */
            left: 50%;
            transform: translate(-50%, 0);
            color: white;
            font-size: 3em;
            font-weight: bold;
            text-align: center;
            background: linear-gradient(90deg, #FFD700, #FF4500, #ADFF2F);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 3px 3px 10px rgba(0, 0, 0, 0.5);
            display: none; /* B·∫Øt ƒë·∫ßu b·∫±ng c√°ch ·∫©n ch·ªØ */
            pointer-events: none;
            animation: slide-down 4s cubic-bezier(0.42, 0, 0.58, 1) infinite;
        }

        @keyframes slide-down {
            0% {
                transform: translate(-50%, -20%);
                opacity: 0;
            }
            50% {
                transform: translate(-50%, 10%);
                opacity: 1;
            }
            100% {
                transform: translate(-50%, -20%);
                opacity: 0;
            }
        }

        #overlay-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://scontent.fdad1-3.fna.fbcdn.net/v/t1.6435-9/168857151_946965629447773_109678064183587459_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=cc71e4&_nc_ohc=zmcXefh6hBEQ7kNvgHU8lm5&_nc_oc=AdiBawWhdtmF3GXAgOKc8bHonGtRz6BtFiPfCDYIc6k13vYivr46PSY8Dw5ebNOezbs&_nc_zt=23&_nc_ht=scontent.fdad1-3.fna&_nc_gid=A3HlgevHJ_5E6TtFvmd7JIz&oh=00_AYAUk73LK7xv2AhPT-qSUBIz5Q_DPoui91WurKhVU5O9uw&oe=67911A2B') center/cover no-repeat;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1s ease-in-out; /* Chuy·ªÉn ƒë·ªïi ƒë·ªô trong su·ªët */
        }
    </style>
</head>

<body>
    <div id="main">
        <video id="video1" muted autoplay loop src="./src/chrismas.mp4"></video>
        <audio id="music1" preload="auto">
            <source src="./src/JingleBellRock.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <div id="message">Merry Christmas üéÑ</div>
        <div id="overlay-image"></div>
    </div>

    <script>
        const video = document.getElementById("video1");
        const music = document.getElementById("music1");
        const message = document.getElementById("message");
        const overlayImage = document.getElementById("overlay-image");
    
        // Thi·∫øt l·∫≠p t·ªëc ƒë·ªô ph√°t video
        video.playbackRate = 0.6;
    
        // Hi·ªÉn th·ªã ho·∫∑c ·∫©n ch·ªØ
        const toggleMessage = (show) => {
            message.style.display = show ? 'block' : 'none';
        };
    
        // Hi·ªÉn th·ªã ho·∫∑c ·∫©n h√¨nh ·∫£nh ph·ªß
        const toggleOverlayImage = (show) => {
            overlayImage.style.opacity = show ? 0.3 : 0; // ƒê·∫∑t ƒë·ªô trong su·ªët 30%
        };
    
        // L·∫Øng nghe s·ª± ki·ªán khi video t·∫£i metadata ƒë·ªÉ t√≠nh th·ªùi gian
        video.addEventListener("loadedmetadata", () => {
            const duration = video.duration; // Th·ªùi l∆∞·ª£ng video
            const showMessageTime = duration - 4; // Th·ªùi gian ƒë·ªÉ hi·ªÉn th·ªã ch·ªØ, 4 gi√¢y cu·ªëi
            const showOverlayTime = duration - 2; // Th·ªùi gian ƒë·ªÉ hi·ªÉn th·ªã h√¨nh, 2 gi√¢y cu·ªëi
            
            video.addEventListener("timeupdate", () => {
                if (video.currentTime >= showMessageTime && video.currentTime < showOverlayTime) {
                    toggleMessage(true); // Hi·ªÉn th·ªã ch·ªØ
                } else {
                    toggleMessage(false); // ·∫®n ch·ªØ
                }

                if (video.currentTime >= showOverlayTime) {
                    toggleOverlayImage(true); // Hi·ªÉn th·ªã ·∫£nh
                } else {
                    toggleOverlayImage(false); // ·∫®n ·∫£nh
                }
            });
        });
    
        // Ph√°t nh·∫°c khi video b·∫Øt ƒë·∫ßu ph√°t
        video.addEventListener("play", () => {
            if (music.readyState >= 3) {
                music.play().catch((error) => {
                    console.error("Audio autoplay failed due to browser restrictions:", error);
                });
            }
        });
    
        // X·ª≠ l√Ω l·ªói √¢m thanh
        music.addEventListener("error", () => {
            console.error("Failed to load audio file. Check the file path or format.");
        });
    </script>
</body>
</html>
